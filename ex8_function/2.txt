CREATE OR REPLACE PROCEDURE PRO1 AS
	FINISHED INTEGER DEFAULT 0;
	NAME1 VARCHAR(20);
	CITY1 VARCHAR(20);
    	C INTEGER DEFAULT 0;
	CURSOR CUR1 IS
    	SELECT ENAME FROM EMPLOYEE E NATURAL JOIN COMPANY C  NATURAL JOIN WORKS;
BEGIN
	FOR NAME1 IN CUR1
	LOOP
		DBMS_OUTPUT.PUT_LINE(NAME1.ENAME);
		SELECT CITY INTO CITY1 FROM EMPLOYEE WHERE ENAME=NAME1.ENAME;
		IF CITY1='CHENNAI' THEN
		C:=C+1;
		END IF;
	END LOOP;
    	
    	IF C>10 THEN
  	FOR NAME1 IN CUR1
    	LOOP
    		UPDATE EMPLOYEE SET CITY='cHENNAI' WHERE ENAME=NAME1.ENAME;
    	END LOOP;
	END IF;
END;
/


BEGIN
PRO1();
END;